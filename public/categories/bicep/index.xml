<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Bicep on My New Hugo Site</title><link>http://localhost:1313/categories/bicep/</link><description>Recent content in Bicep on My New Hugo Site</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Thu, 28 Mar 2024 18:09:38 +0000</lastBuildDate><atom:link href="http://localhost:1313/categories/bicep/index.xml" rel="self" type="application/rss+xml"/><item><title>Automatic OS Upgrade is not supported for this Virtual Machine Scale Set because a health probe or health extension was not specified.</title><link>http://localhost:1313/docs/legacy/2024-03-28-automatic-os-upgrade-vmss-issue/</link><pubDate>Thu, 28 Mar 2024 18:09:38 +0000</pubDate><guid>http://localhost:1313/docs/legacy/2024-03-28-automatic-os-upgrade-vmss-issue/</guid><description>If you face this issue during your VMSS deployment:
ErrorCode: DeploymentFailed
Content: {“status”:”Failed”,”error”:{“code”:”DeploymentFailed”,”target”:”/subscriptions/YOURID/resourceGroups/vmss/providers/Microsoft.Resources/deployments/VMSS_AutomaticOsUpgrade-240328-1303″,”message”:”At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/arm-deployment-operations for usage details.”,”details”:[{“code”:”BadRequest”,”message”:”Automatic OS Upgrade is not supported for this Virtual Machine Scale Set because a health probe or health extension was not specified.“}]}}
it is very easy to bypass it.
If you do not have a port for your app to monitor, you can monitor management ports, like so:</description></item><item><title>Bicep: Deploy 3 RHEL 9.2 VMs with shared disks to form a cluster</title><link>http://localhost:1313/docs/legacy/2023-10-08-deploy-3-rhel-9_2-vms-with-shared-disks-to-form-a-cluster/</link><pubDate>Sun, 08 Oct 2023 13:19:15 +0000</pubDate><guid>http://localhost:1313/docs/legacy/2023-10-08-deploy-3-rhel-9_2-vms-with-shared-disks-to-form-a-cluster/</guid><description>This Bicep template automates the deployment of a highly available cluster of Red Hat Enterprise Linux (RHEL) virtual machines in Azure.
Parameters: # vmNames: Specifies the names of the virtual machines. The maximum length for each name is 15 characters. adminUsername: Sets the username for the administrator account on each VM. adminPassword: Sets the password for the administrator account on each VM. The minimum length for the password is 12 characters.</description></item><item><title>Bicep: Execute a RunCommand on already running Azure Virtual Machine</title><link>http://localhost:1313/docs/legacy/2023-08-27-bicep-execute-a-runcommand-on-already-running-azure-virtual-machine/</link><pubDate>Sun, 27 Aug 2023 17:09:56 +0000</pubDate><guid>http://localhost:1313/docs/legacy/2023-08-27-bicep-execute-a-runcommand-on-already-running-azure-virtual-machine/</guid><description/></item><item><title>Deploy CSE (Custom Script Extension) using Managed Identity to authenticate against storage account where script is stored on existing running VM</title><link>http://localhost:1313/docs/legacy/2023-08-22-deploy-cse-custom-script-extension-using-managed-identity-to-authenticate-against-storage-account-where-script-is-stored-on-existing-running-vm/</link><pubDate>Tue, 22 Aug 2023 15:48:56 +0000</pubDate><guid>http://localhost:1313/docs/legacy/2023-08-22-deploy-cse-custom-script-extension-using-managed-identity-to-authenticate-against-storage-account-where-script-is-stored-on-existing-running-vm/</guid><description>@description(&amp;lsquo;Location for all resources.&amp;rsquo;) param location string = resourceGroup().location
resource extension &amp;lsquo;Microsoft.Compute/virtualMachines/extensions@2021-07-01&amp;rsquo; = { parent: vm name: &amp;lsquo;CustomScriptExtension&amp;rsquo; location: location properties: { publisher: &amp;lsquo;Microsoft.Compute&amp;rsquo; type: &amp;lsquo;CustomScriptExtension&amp;rsquo; typeHandlerVersion: &amp;lsquo;1.10&amp;rsquo; autoUpgradeMinorVersion: true settings: { } protectedSettings: { commandToExecute: &amp;lsquo;powershell -ExecutionPolicy Unrestricted -File testscript.ps1&amp;rsquo; managedIdentity: { clientId: &amp;lsquo;0000-0000-0000-0000&amp;rsquo;} fileUris: [ &amp;lsquo;https://YOURSA.blob.core.windows.net/scripts/testscript.ps1&amp;rsquo; ] }
} } &amp;quot; role=&amp;ldquo;button&amp;rdquo; style=&amp;ldquo;color:#D4D4D4;display:none&amp;rdquo; tabindex=&amp;ldquo;0&amp;rdquo;&amp;gt;``` resource vm &amp;lsquo;Microsoft.Compute/virtualMachines@2022-04-01&amp;rsquo; existing = { name: &amp;lsquo;YOURVM&amp;rsquo; } @description(&amp;lsquo;Location for all resources.&amp;rsquo;) param location string = resourceGroup().</description></item></channel></rss>